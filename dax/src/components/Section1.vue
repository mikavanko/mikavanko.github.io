<template>
    <div class="section-1">
        <div class="container">
            <div class="row">
                <div class="col-lg-7 zi2">
                    <div class="title-h1-wrapper" data-aos="fade-up" data-aos-delay="50" data-aos-duration="600">
                        <h1 class="title-h1">Unchain <span>your</span></h1>
                        <span class="title-h1-span color-lightblue" ref="typed-title"></span>
                    </div>
                    <p class="section-1-p" data-aos="fade-up" data-aos-delay="100" data-aos-duration="600">Use <span class="color-lightblue">DAX</span> to easily manage earn on your deposit.<br> Trade with friends, earn on deposit and spend <br>Worldwide in one click.</p>
                    <a href="#" class="button-style-2" data-aos="fade-up" data-aos-delay="150" data-aos-duration="600">Sign up for free</a>
                    <div class="section-1-img" data-aos="fade-up" data-aos-delay="200" data-aos-duration="600">
                        <a href="#"><img src="~@/assets/images/appstore.svg" alt="appstore"></a>
                        <a href="#"><img src="~@/assets/images/googleplay.svg" alt="googleplay"></a>
                    </div>
                </div>
                <div class="col-lg-5 section-1-anim">
                    <div class="section-1-phone" data-aos="fade-up" data-aos-delay="100">
                        <img src="~@/assets/images/Phone.svg" alt="Phone">
                    </div>
                    <div class="section-1-svg" id="section-1-svg-1" data-aos="fade-up" data-aos-delay="50">
                        <svg viewBox="0 0 700 685" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path filter="url(#blur-path1)" class="path-anim" id="path1" fill-rule="evenodd" clip-rule="evenodd" d="M87.9983 232.668C80.9207 242.919 73.9789 252.973 71.0574 263.877C64.9791 286.561 66.0463 305.676 67.2245 326.779C67.4929 331.585 67.767 336.495 67.9638 341.574C89.7207 387.233 89.3677 405.432 89.0855 419.981C88.8965 429.726 88.7393 437.833 95.2788 451.458C96.9946 491.561 110.064 499.059 124.237 507.189C130.154 510.584 136.264 514.089 141.82 520.125C179.346 517.407 203.855 538.896 241.755 572.127C251.723 580.866 262.617 590.418 274.918 600.555C331.214 626.25 372.482 607.276 414.852 587.795C442.876 574.911 471.382 561.804 505.038 561.253C564.655 560.276 569.684 528.305 574.831 495.587C576.073 487.689 577.322 479.748 579.348 472.189C582.61 466.197 586.975 459.297 591.608 451.971C601.715 435.993 613.101 417.991 617.122 402.983C640.96 385.602 626.851 304.458 586.828 224.992C565.253 182.154 536.148 139.804 501.398 108.193C478.492 87.3556 471.374 86.4387 428.308 80.892C425.003 80.4663 421.486 80.0133 417.733 79.5219C411.215 77.7752 404.603 75.941 397.926 74.0889C345.637 59.5832 289.411 43.9857 243.257 60.8162C209.742 111.3 192.608 120.395 176.899 128.734C167.417 133.767 158.455 138.524 146.725 151.939C142.142 157.179 135.901 161.667 129.597 166.201C121.214 172.229 112.721 178.337 107.867 186.399C107.775 204.024 97.7577 218.533 87.9983 232.668ZM410.736 93.6729C279.849 58.6016 145.312 136.276 110.241 267.164C75.1697 398.052 152.844 532.588 283.732 567.66C414.62 602.731 549.156 525.056 584.228 394.168C619.299 263.281 541.624 128.744 410.736 93.6729Z" fill="url(#paint0_radial)"/>
                            <defs>
                            <radialGradient id="paint0_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(201.131 59.4996) rotate(53.7396) scale(727.588 19028.8)">
                            <stop offset="0.00520833" stop-color="#C984FF" stop-opacity="0"/>
                            <stop offset="0.526042" stop-color="#77CAF8"/>
                            <stop offset="1" stop-color="#70C5F4" stop-opacity="0"/>
                            </radialGradient>
                            <radialGradient id="paint1_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(139.968 102.943) rotate(38.7396) scale(727.588 19028.8)">
                            <stop offset="0.00520833" stop-color="#C984FF" stop-opacity="0"/>
                            <stop offset="0.526042" stop-color="#77CAF8"/>
                            <stop offset="1" stop-color="#70C5F4" stop-opacity="0"/>
                            </radialGradient>
                            <radialGradient id="paint2_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(413.413 656.882) rotate(-111.26) scale(727.588 19028.8)">
                            <stop offset="0.00520833" stop-color="#C984FF" stop-opacity="0"/>
                            <stop offset="0.526042" stop-color="#77CAF8"/>
                            <stop offset="1" stop-color="#70C5F4" stop-opacity="0"/>
                            </radialGradient>
                            <filter id="blur-path1">
                            <feGaussianBlur in='SourceGraphic' stdDeviation="5"/>
                            </filter>
                            </defs>
                        </svg>
                    </div>
                    <div class="section-1-svg" id="section-1-svg-2">
                        <svg viewBox="0 0 700 685" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path filter="url(#blur-path2)" class="path-anim" id="path2" fill-rule="evenodd" clip-rule="evenodd" d="M87.9983 232.668C80.9207 242.919 73.9789 252.973 71.0574 263.877C64.9791 286.561 66.0463 305.676 67.2245 326.779C67.4929 331.585 67.767 336.495 67.9638 341.574C89.7207 387.233 89.3677 405.432 89.0855 419.981C88.8965 429.726 88.7393 437.833 95.2788 451.458C96.9946 491.561 110.064 499.059 124.237 507.189C130.154 510.584 136.264 514.089 141.82 520.125C179.346 517.407 203.855 538.896 241.755 572.127C251.723 580.866 262.617 590.418 274.918 600.555C331.214 626.25 372.482 607.276 414.852 587.795C442.876 574.911 471.382 561.804 505.038 561.253C564.655 560.276 569.684 528.305 574.831 495.587C576.073 487.689 577.322 479.748 579.348 472.189C582.61 466.197 586.975 459.297 591.608 451.971C601.715 435.993 613.101 417.991 617.122 402.983C640.96 385.602 626.851 304.458 586.828 224.992C565.253 182.154 536.148 139.804 501.398 108.193C478.492 87.3556 471.374 86.4387 428.308 80.892C425.003 80.4663 421.486 80.0133 417.733 79.5219C411.215 77.7752 404.603 75.941 397.926 74.0889C345.637 59.5832 289.411 43.9857 243.257 60.8162C209.742 111.3 192.608 120.395 176.899 128.734C167.417 133.767 158.455 138.524 146.725 151.939C142.142 157.179 135.901 161.667 129.597 166.201C121.214 172.229 112.721 178.337 107.867 186.399C107.775 204.024 97.7577 218.533 87.9983 232.668ZM410.736 93.6729C279.849 58.6016 145.312 136.276 110.241 267.164C75.1697 398.052 152.844 532.588 283.732 567.66C414.62 602.731 549.156 525.056 584.228 394.168C619.299 263.281 541.624 128.744 410.736 93.6729Z" fill="url(#paint0_radial)"/>
                            <defs>
                            <radialGradient id="paint0_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(201.131 59.4996) rotate(53.7396) scale(727.588 19028.8)">
                            <stop offset="0.00520833" stop-color="#C984FF" stop-opacity="0"/>
                            <stop offset="0.526042" stop-color="#77CAF8"/>
                            <stop offset="1" stop-color="#70C5F4" stop-opacity="0"/>
                            </radialGradient>
                            <radialGradient id="paint1_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(139.968 102.943) rotate(38.7396) scale(727.588 19028.8)">
                            <stop offset="0.00520833" stop-color="#C984FF" stop-opacity="0"/>
                            <stop offset="0.526042" stop-color="#77CAF8"/>
                            <stop offset="1" stop-color="#70C5F4" stop-opacity="0"/>
                            </radialGradient>
                            <radialGradient id="paint2_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(413.413 656.882) rotate(-111.26) scale(727.588 19028.8)">
                            <stop offset="0.00520833" stop-color="#C984FF" stop-opacity="0"/>
                            <stop offset="0.526042" stop-color="#77CAF8"/>
                            <stop offset="1" stop-color="#70C5F4" stop-opacity="0"/>
                            </radialGradient>
                            <filter id="blur-path2">
                            <feGaussianBlur in='SourceGraphic' stdDeviation="1.5"/>
                            </filter>
                            </defs>
                        </svg>
                    </div>
                    <div class="section-1-svg" id="section-1-svg-3">
                        <svg viewBox="0 0 700 685" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path filter="url(#blur-path3)" class="path-anim" id="path3" fill-rule="evenodd" clip-rule="evenodd" d="M87.9983 232.668C80.9207 242.919 73.9789 252.973 71.0574 263.877C64.9791 286.561 66.0463 305.676 67.2245 326.779C67.4929 331.585 67.767 336.495 67.9638 341.574C89.7207 387.233 89.3677 405.432 89.0855 419.981C88.8965 429.726 88.7393 437.833 95.2788 451.458C96.9946 491.561 110.064 499.059 124.237 507.189C130.154 510.584 136.264 514.089 141.82 520.125C179.346 517.407 203.855 538.896 241.755 572.127C251.723 580.866 262.617 590.418 274.918 600.555C331.214 626.25 372.482 607.276 414.852 587.795C442.876 574.911 471.382 561.804 505.038 561.253C564.655 560.276 569.684 528.305 574.831 495.587C576.073 487.689 577.322 479.748 579.348 472.189C582.61 466.197 586.975 459.297 591.608 451.971C601.715 435.993 613.101 417.991 617.122 402.983C640.96 385.602 626.851 304.458 586.828 224.992C565.253 182.154 536.148 139.804 501.398 108.193C478.492 87.3556 471.374 86.4387 428.308 80.892C425.003 80.4663 421.486 80.0133 417.733 79.5219C411.215 77.7752 404.603 75.941 397.926 74.0889C345.637 59.5832 289.411 43.9857 243.257 60.8162C209.742 111.3 192.608 120.395 176.899 128.734C167.417 133.767 158.455 138.524 146.725 151.939C142.142 157.179 135.901 161.667 129.597 166.201C121.214 172.229 112.721 178.337 107.867 186.399C107.775 204.024 97.7577 218.533 87.9983 232.668ZM410.736 93.6729C279.849 58.6016 145.312 136.276 110.241 267.164C75.1697 398.052 152.844 532.588 283.732 567.66C414.62 602.731 549.156 525.056 584.228 394.168C619.299 263.281 541.624 128.744 410.736 93.6729Z" fill="url(#paint0_radial)"/>
                            <defs>
                            <radialGradient id="paint0_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(201.131 59.4996) rotate(53.7396) scale(727.588 19028.8)">
                            <stop offset="0.00520833" stop-color="#C984FF" stop-opacity="0"/>
                            <stop offset="0.526042" stop-color="#77CAF8"/>
                            <stop offset="1" stop-color="#70C5F4" stop-opacity="0"/>
                            </radialGradient>
                            <radialGradient id="paint1_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(139.968 102.943) rotate(38.7396) scale(727.588 19028.8)">
                            <stop offset="0.00520833" stop-color="#C984FF" stop-opacity="0"/>
                            <stop offset="0.526042" stop-color="#77CAF8"/>
                            <stop offset="1" stop-color="#70C5F4" stop-opacity="0"/>
                            </radialGradient>
                            <radialGradient id="paint2_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(413.413 656.882) rotate(-111.26) scale(727.588 19028.8)">
                            <stop offset="0.00520833" stop-color="#C984FF" stop-opacity="0"/>
                            <stop offset="0.526042" stop-color="#77CAF8"/>
                            <stop offset="1" stop-color="#70C5F4" stop-opacity="0"/>
                            </radialGradient>

                            <filter id="blur-path3">
                            <feGaussianBlur in='SourceGraphic' stdDeviation=".5"/>
                            </filter>
                            </defs>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
import Typed from 'typed.js';
import parseSVG from 'svg-path-parser';
import TweenLite from "gsap";

export default {
    name: 'Section1',
    mounted: function(){
        var options = {
            strings: ['^500Bitcoin','^500Ethereum','^500Litecoin'],
            typeSpeed:80,
            backSpeed:40,
            smartBackspace: true,
            loop: true
        };
        console.log(this)
        new Typed(this.$refs['typed-title'], options);

        let path = document.querySelector('.path-anim')
        let d  = path.getAttribute('d')
        let parsedDInit = parseSVG(d)
        let parsedDClone = parsedDInit;

        TweenLite.to('#path1', 1, {
            attr:{d: changePath(1)}, 
            repeat:-1,
            yoyo: true,
            ease: 'linear',
            duration: 50
        }).delay(0).duration(2);

        TweenLite.to('#path2', 1, {
            attr:{d: changePath(1)}, 
            repeat:-1,
            yoyo: true,
            ease: 'linear',
            duration: 50
        }).delay(30).duration(1.5);

        TweenLite.to('#path3', 1, {
            attr:{d: changePath(2)}, 
            repeat:-1,
            yoyo: true,
            ease: 'linear',
            duration: 50
        }).delay(60).duration(1);

        function changePath(i){
            let newD = '';
            for(let i = 0, count = parsedDClone.length; i < count; i++){
                if(parsedDClone[i].code === 'M'){
                    newD += ` ${parsedDClone[i].code}${parsedDClone[i].x} ${parsedDClone[i].y} `;
                }else if(parsedDClone[i].code === 'C'){
                    let n;
                    if(i%2 == 0){
                        n = 10;
                        newD += ` ${parsedDClone[i].code} ${parsedDClone[i].x1-n} ${parsedDClone[i].y1} ${parsedDClone[i].x2-n} ${parsedDClone[i].y2-n} ${parsedDClone[i].x} ${parsedDClone[i].y} `;
                    }else{
                        n = 10;
                        newD += ` ${parsedDClone[i].code} ${parsedDClone[i].x1} ${parsedDClone[i].y1} ${parsedDClone[i].x2-n} ${parsedDClone[i].y2-n} ${parsedDClone[i].x} ${parsedDClone[i].y} `;
                    }
                }else{
                    newD += `${parsedDClone[i].code}`;
                }
            }

            return newD;
        }
        // TweenLite.to('#path1', 1, {
        //     attr:{d: 'M723.181 377.308C627.365 365.575 631.468 354.066 631.468 342.778C631.468 319.293 625.489 301.106 618.89 281.027C617.386 276.454 615.851 271.782 614.346 266.928C581.513 228.455 577.144 210.785 573.651 196.659C571.311 187.197 569.365 179.325 559.522 167.858C547.485 129.565 532.92 125.706 517.126 121.52C510.532 119.772 503.723 117.968 496.794 113.576C461.251 125.914 432.015 111.5 386.805 89.2116C374.915 83.3497 361.92 76.9432 347.415 70.3353C286.386 60.0862 251.436 89.0943 215.551 118.878C191.817 138.576 167.674 158.614 135.308 167.858C77.9756 184.231 81.3923 216.414 84.8889 249.349C85.7329 257.299 86.5816 265.293 86.5816 273.12C84.9811 279.751 82.5512 287.546 79.9716 295.821C74.345 313.871 68.006 334.207 68.006 349.744C49.4786 372.702 84.1093 447.429 143.336 513.829C175.263 549.623 214.337 582.997 256.084 604.538C283.602 618.736 290.716 617.779 333.75 611.991C337.053 611.547 340.567 611.074 344.319 610.578C351.067 610.578 357.929 610.638 364.857 610.699C419.119 611.177 477.466 611.691 517.692 583.488C536.998 526.05 551.195 512.83 564.21 500.71C572.066 493.395 579.491 486.48 587.35 470.486C590.42 464.239 595.287 458.288 600.203 452.277C606.74 444.285 613.363 436.186 615.965 427.143C611.492 410.095 617.413 393.487 623.181 377.308ZM347.415 595.098C482.92 595.098 592.768 485.249 592.768 349.744C592.768 214.239 482.92 104.391 347.415 104.391C211.91 104.391 102.061 214.239 102.061 349.744C102.061 485.249 211.91 595.098 347.415 595.098Z'}
        // }).delay(1);
        
        // TweenLite.to('#path1', 1, {
        //     attr:{d: 'M50 50 L 300 0 L 300 300.4 L 0 300 Z'}
        // }).delay(0.3);

    }
}
</script>